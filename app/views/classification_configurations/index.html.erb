<h1 class="govuk-heading-l">Classification Configurations</h1>

<% if @configurations.any? %>
  <table class="govuk-table">
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header">Name</th>
        <th scope="col" class="govuk-table__header">Value</th>
        <th scope="col" class="govuk-table__header">Description</th>
        <th scope="col" class="govuk-table__header">Actions</th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      <% @configurations.each do |config| %>
        <tr class="govuk-table__row">
          <td class="govuk-table__cell"><%= config.display_name %></td>
          <td class="govuk-table__cell">
            <% case config.config_type %>
            <% when "boolean" %>
              <strong class="govuk-tag govuk-tag--<%= config.value == true ? 'green' : 'grey' %>">
                <%= config.value == true ? "Yes" : "No" %>
              </strong>
            <% when "integer" %>
              <%= config.value %>
            <% when "options" %>
              <%= config.selected_option_label %>
            <% else %>
              <span class="govuk-body-s govuk-!-margin-0"><%= truncate(config.value.to_s, length: 50) %></span>
            <% end %>
          </td>
          <td class="govuk-table__cell"><%= config.description %></td>
          <td class="govuk-table__cell">
            <%= link_to "View", classification_configuration_path(config), class: "govuk-link" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <div class="govuk-inset-text">
    <p>No configurations found.</p>
  </div>
<% end %>
